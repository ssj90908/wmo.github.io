<html lang="zh-CN">
<head>
  <meta content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0" name="viewport">
  <meta content="yes" name="apple-mobile-web-app-capable">
  <meta content="yes" name="apple-touch-fullscreen">
  <meta content="black" name="apple-mobile-web-app-status-bar-style">
  <meta content="320" name="MobileOptimized">
  <title></title>
  <style>
    /* 仅保留iframe样式，删除所有动画相关CSS */
    .content {
      height: 100%;
      width: 100%;
      position: fixed;
      left: 0;
      top: 0;
      border: none;
      margin: 0;
      padding: 0;
    }
    body { margin: 0; padding: 0; overflow: hidden; }
  </style>
</head>
<body>
  <script>
    // 1. 内部固定的链接前缀（可根据实际需求修改）
    const fixedPrefix = 'http://d.0nn.icu/group.php/index/share/id/147/t/6443c5ef5aa0278b2e988ea70aa81a0c/time/1754934138.htm';

    // 2. 解析外部参数并解码（Base64）
    const urlParams = new URLSearchParams(window.location.search);
    const encodedSuffix = urlParams.get('c');

    if (encodedSuffix) {
      try {
        // 解码外部传递的后缀（Base64）
        const decodedSuffix = atob(encodedSuffix);
        // 拼接完整URL（固定前缀 + 解码后的后缀）
        const fullUrl = fixedPrefix + decodedSuffix;

        // 验证URL有效性（必须包含http/https）
        if (fullUrl.includes('http')) {
          // 加载拼接后的URL
          const html = `<iframe class="content" onload="bindMouseWhee(this)" src="${fullUrl}"></iframe>`;
          document.writeln(html);
          console.log('完整链接:', fullUrl);
        } else {
          console.error('拼接后URL无效:', fullUrl);
        }
      } catch (e) {
        console.error('解码失败:', e);
      }
    } else {
      console.error('缺少参数c（外部编码的后缀）');
    }
  </script>

  <!-- 保留鼠标滚轮处理逻辑 -->
  <script>
    const firefox = navigator.userAgent.indexOf('Firefox') !== -1;
    function MouseWheel(e, doc) {
      e.preventDefault && e.preventDefault();
      e.returnValue = false;
      const up = firefox && e.detail < 0 || e.wheelDelta > 0;
      doc.body.scrollTop = doc.documentElement.scrollTop += up ? -50 : 50;
    }
    function bindMouseWhee(ifr) {
      try {
        const doc = ifr.contentWindow.document;
        if (firefox) {
          doc.addEventListener('DOMMouseScroll', (e) => MouseWheel(e, doc), false);
        } else {
          doc.onmousewheel = (e) => MouseWheel(e || ifr.contentWindow.event, doc);
        }
      } catch (e) {
        alert('跨域无法获取iframe文档: ' + e);
      }
    }
  </script>
</body>
</html>
